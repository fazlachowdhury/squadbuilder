{"ast":null,"code":"import _ from 'lodash';\nexport function generateSquads(playerList, squads) {\n  const playerLimit = Math.floor(playerList.length / squads);\n  let squadShootingSum = [],\n      squadSkatingSum = [],\n      squadCheckingSum = [];\n  let tempSquad = [];\n\n  for (let i = 0; i < squads; i++) {\n    tempSquad.push([]);\n  }\n\n  let counter = 0;\n\n  for (let playerCounter = playerList.length - 1; playerCounter >= 0; playerCounter--) {\n    let player = playerList[playerCounter];\n    let playerStrongestSkill = player.skills.reduce(function (prev, curr) {\n      return prev.rating > curr.rating ? prev : curr;\n    }); //Fill the empty squads first.\n\n    if (counter < squads && tempSquad[counter].length == 0) {\n      tempSquad[counter].push(player);\n      squadShootingSum[counter] = parseInt(player.skills[0].rating);\n      squadSkatingSum[counter] = parseInt(player.skills[1].rating);\n      squadCheckingSum[counter] = parseInt(player.skills[2].rating); //remove player from list indicating player has been added to a squad.\n\n      _(playerList).splice(playerCounter, 1).value();\n\n      counter++;\n    } else {\n      let squadSelected; //add the player to the squad that has the smallest average for that skills\n\n      if (playerStrongestSkill.type.toUpperCase() === \"SHOOTING\") {\n        squadSelected = squadShootingSum.indexOf(squadShootingSum.reduce(function (prev, curr) {\n          return prev < curr ? prev : curr;\n        }));\n        console.log('squadShootingSum', squadShootingSum[squadSelected]);\n      } else if (playerStrongestSkill.type.toUpperCase() === \"SKATING\") {\n        squadSelected = squadSkatingSum.indexOf(squadSkatingSum.reduce(function (prev, curr) {\n          return prev < curr ? prev : curr;\n        }));\n        console.log('squadShootingSum', squadShootingSum[squadSelected]);\n      } else {\n        squadSelected = squadCheckingSum.indexOf(squadCheckingSum.reduce(function (prev, curr) {\n          return prev < curr ? prev : curr;\n        }));\n      }\n\n      squadSelected = Number(squadSelected);\n\n      if (tempSquad[squadSelected].length < playerLimit) {\n        tempSquad[squadSelected].push(player);\n        squadShootingSum.splice(squadSelected, 1, squadShootingSum[squadSelected] + parseInt(player.skills[0].rating));\n        squadSkatingSum.splice(squadSelected, 1, squadSkatingSum[squadSelected] + parseInt(player.skills[1].rating));\n        squadCheckingSum.splice(squadSelected, 1, squadCheckingSum[squadSelected] + parseInt(player.skills[2].rating)); //remove player from list indicating player has been added to a squad.\n\n        _(playerList).splice(playerCounter, 1).value();\n      }\n    }\n  }\n\n  console.log(_.sum(squadShootingSum[0]) / playerLimit); //Rest of the players will go into new squad.\n\n  tempSquad.push([]);\n\n  _.each(playerList, player => {\n    tempSquad[tempSquad.length - 1].push(player);\n  });\n\n  console.log('rest of the players', tempSquad);\n}","map":{"version":3,"sources":["C:\\SquadBuilder\\squadbuilder\\src\\utils\\index.js"],"names":["_","generateSquads","playerList","squads","playerLimit","Math","floor","length","squadShootingSum","squadSkatingSum","squadCheckingSum","tempSquad","i","push","counter","playerCounter","player","playerStrongestSkill","skills","reduce","prev","curr","rating","parseInt","splice","value","squadSelected","type","toUpperCase","indexOf","console","log","Number","sum","each"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nexport function generateSquads(playerList, squads) {\r\n    const playerLimit = Math.floor(playerList.length/ squads);\r\n\r\n    let squadShootingSum = [],\r\n        squadSkatingSum = [],\r\n        squadCheckingSum = [];\r\n\r\n    let tempSquad = [];\r\n    for (let i = 0; i< squads; i++) {\r\n        tempSquad.push([])\r\n    }\r\n\r\n    let counter = 0;\r\n\r\n    for (let playerCounter = playerList.length - 1 ; playerCounter >= 0 ; playerCounter--){\r\n      let player = playerList[playerCounter];\r\n\r\n      let playerStrongestSkill = player.skills.reduce(function(prev, curr) {\r\n          return prev.rating > curr.rating ? prev : curr;\r\n      });\r\n\r\n      //Fill the empty squads first.\r\n      if(counter < squads && tempSquad[counter].length == 0){\r\n        tempSquad[counter].push(player);\r\n        squadShootingSum[counter] = parseInt(player.skills[0].rating);\r\n        squadSkatingSum[counter] = parseInt(player.skills[1].rating);\r\n        squadCheckingSum[counter] = parseInt(player.skills[2].rating);\r\n        //remove player from list indicating player has been added to a squad.\r\n        _(playerList).splice(playerCounter, 1).value();\r\n        counter++;\r\n      }else{\r\n         let squadSelected;\r\n          //add the player to the squad that has the smallest average for that skills\r\n          if(playerStrongestSkill.type.toUpperCase() === \"SHOOTING\"){\r\n            squadSelected = squadShootingSum.indexOf(squadShootingSum.reduce(function(prev, curr) {\r\n                return prev < curr ? prev : curr;\r\n            }));\r\n            console.log('squadShootingSum', squadShootingSum[squadSelected]);\r\n          }else if(playerStrongestSkill.type.toUpperCase() === \"SKATING\"){\r\n            squadSelected = squadSkatingSum.indexOf(squadSkatingSum.reduce(function(prev, curr) {\r\n                return prev < curr ? prev : curr;\r\n            }));\r\n            console.log('squadShootingSum', squadShootingSum[squadSelected]);\r\n          }else{\r\n            squadSelected = squadCheckingSum.indexOf(squadCheckingSum.reduce(function(prev, curr) {\r\n                return prev < curr ? prev : curr;\r\n            }));\r\n          }\r\n\r\n\r\n          squadSelected = Number(squadSelected);\r\n\r\n          if(tempSquad[squadSelected].length < playerLimit){\r\n              tempSquad[squadSelected].push(player);\r\n              squadShootingSum.splice(squadSelected,1,squadShootingSum[squadSelected] + parseInt(player.skills[0].rating));\r\n              squadSkatingSum.splice(squadSelected,1,squadSkatingSum[squadSelected] + parseInt(player.skills[1].rating));\r\n              squadCheckingSum.splice(squadSelected,1,squadCheckingSum[squadSelected] + parseInt(player.skills[2].rating));\r\n              //remove player from list indicating player has been added to a squad.\r\n              _(playerList).splice(playerCounter, 1).value();\r\n          }\r\n      }\r\n\r\n    }\r\n\r\n    console.log(_.sum(squadShootingSum[0])/playerLimit);\r\n\r\n\r\n    //Rest of the players will go into new squad.\r\n    tempSquad.push([]);\r\n    _.each(playerList, (player) => {\r\n      tempSquad[tempSquad.length - 1].push(player);\r\n    });\r\n\r\n    console.log('rest of the players', tempSquad);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}